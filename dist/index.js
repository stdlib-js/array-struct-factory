"use strict";var L=function(a,t){return function(){return t||a((t={exports:{}}).exports,t),t.exports}};var j=L(function(ce,P){"use strict";var M=require("@stdlib/assert-is-positive-integer").isPrimitive,d=require("@stdlib/assert-is-function");function W(a){return d(a)&&M(a.alignment)&&M(a.byteLength)&&d(a.byteLengthOf)&&d(a.byteOffsetOf)&&d(a.bufferOf)&&d(a.viewOf)}P.exports=W});var x=L(function(me,N){"use strict";var X=require("@stdlib/array-base-getter"),Z=require("@stdlib/array-base-accessor-getter"),F=require("@stdlib/array-uint8"),$=require("@stdlib/blas-base-gcopy").ndarray;function ee(a,t,y){var m,f,u,p,e,n,c,l,r,i,o,g;for(n={format:"layout"},c=y.length,y.get&&y.set?l=Z("default"):l=X("default"),p=a.layout,i=a.byteLength,f=new F(t),u=0,g=0;g<c;g++){o=l(y,g);try{e=a.viewOf(o),r=!0}catch(T){try{o=new a(o)}catch(b){return null}e=a.viewOf(o),r=!1}if(r&&o.toString(n)!==p)return null;m=new F(e.buffer,e.byteOffset,e.byteLength),$(i,m,1,0,f,1,u),u+=i}return t}N.exports=ee});var k=L(function(be,Y){"use strict";function re(a){var t,y;for(t=[];y=a.next(),!y.done;)t.push(y.value);return t}Y.exports=re});var Q=L(function(pe,K){"use strict";var E=require("@stdlib/assert-is-nonnegative-integer").isPrimitive,O=require("@stdlib/assert-is-integer").isPrimitive,C=require("@stdlib/assert-is-arraybuffer"),V=require("@stdlib/assert-is-collection"),U=require("@stdlib/assert-is-function"),G=require("@stdlib/assert-is-object"),te=require("@stdlib/assert-is-prototype-of"),ne=require("@stdlib/assert-has-iterator-symbol-support"),ie=require("@stdlib/assert-has-property"),ae=require("@stdlib/array-base-assert-contains"),v=require("@stdlib/utils-define-nonenumerable-read-only-property"),A=require("@stdlib/utils-define-nonenumerable-read-only-accessor"),D=require("@stdlib/symbol-iterator"),B=require("@stdlib/array-buffer"),H=require("@stdlib/array-uint8"),z=require("@stdlib/array-base-getter"),ue=require("@stdlib/array-base-accessor-getter"),oe=require("@stdlib/blas-base-gcopy").ndarray,se=require("@stdlib/dstructs-struct"),s=require("@stdlib/string-format"),fe=j(),J=x(),le=k(),he=ne(),R="StructArray";function ye(a){var t,y,m,f;if(V(a))f=se(a);else if(fe(a))f=a;else throw new TypeError(s("invalid argument. First argument must be either a struct constructor or struct schema. Value: `%s`.",a));t=f.byteLength,y=f.layout,m=f.fields;function u(e,n,c){var l,r,i,o;if(l=arguments.length,!(this instanceof u))return l===0?new u:l===1?new u(e):l===2?new u(e,n):new u(e,n,c);if(l===0)r=new B(0),i=0;else if(l===1)if(E(e))r=new B(e*t),i=e;else if(V(e)){if(i=e.length,r=J(f,new B(i*t),e),r===null)throw new TypeError(s("invalid argument. Each element of a provided input array must be a valid object or a struct instance having the same layout as elements in the desired output array."))}else if(C(e)){if(r=e,i=r.byteLength/t,!O(i))throw new RangeError(s("invalid argument. ArrayBuffer byte length must be a multiple of %u. Byte length: `%u`.",t,r.byteLength))}else if(G(e)){if(he===!1)throw new TypeError(s("invalid argument. Environment lacks Symbol.iterator support. First argument must be a length, ArrayBuffer, typed array, or array-like object. Value: `%s`.",e));if(!U(e[D]))throw new TypeError(s("invalid argument. First argument must be a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",e));if(r=e[D](),!U(r.next))throw new TypeError(s("invalid argument. First argument must be a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",e));if(o=le(r),i=o.length,r=J(f,new B(i*t),o),r===null)throw new TypeError(s("invalid argument. Each element of a provided input iterable must be either a valid object or a struct instance having the same layout as elements in the desired output array."))}else throw new TypeError(s("invalid argument. First argument must be a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `%s`.",e));else{if(r=arguments[0],!C(r))throw new TypeError(s("invalid argument. First argument must be an ArrayBuffer. Value: `%s`.",e));if(!E(n))throw new TypeError(s("invalid argument. Second argument must be a nonnegative integer. Value: `%s`.",n));if(!O(n/t))throw new RangeError(s("invalid argument. Second argument must be a multiple of %u. Value: `%u`.",t,n));if(n>=r.byteLength)throw new RangeError(s("invalid argument. Second argument exceeds the bounds of the ArrayBuffer. Value: `%s`.",n));if(l===2){if(i=(r.byteLength-n)/t,!O(i))throw new RangeError(s("invalid argument. ArrayBuffer view byte length must be a multiple of %u. View byte length: `%u`.",t,r.byteLength-n))}else{if(i=c,!E(i))throw new TypeError(s("invalid argument. Third argument must be a nonnegative integer. Value: `%s`.",i));if(i*t>r.byteLength-n)throw new RangeError(s("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `%u`.",i*t))}}return v(this,"_buffer",r),v(this,"_byteOffset",n||0),v(this,"_byteLength",i*t),v(this,"_length",i),this}return v(u,"BYTES_PER_ELEMENT",t),v(u,"name",R),v(u,"struct",f),A(u.prototype,"buffer",function(){return this._buffer}),A(u.prototype,"byteLength",function(){return this._byteLength}),A(u.prototype,"byteOffset",function(){return this._byteOffset}),v(u.prototype,"BYTES_PER_ELEMENT",u.BYTES_PER_ELEMENT),v(u.prototype,"get",function(n){if(!p(this))throw new TypeError(s("invalid invocation. `this` is not a %s.",R));if(!E(n))throw new TypeError(s("invalid argument. Must provide a nonnegative integer. Value: `%s`.",n));if(!(n>=this._length))return new f(this._buffer,this._byteOffset+n*t,t)}),A(u.prototype,"length",function(){return this._length}),v(u.prototype,"set",function(n){var c,l,r,i,o,g,T,b,w,_,I,q,h,S;if(!p(this))throw new TypeError(s("invalid invocation. `this` is not a %s.",R));if(g=this._buffer,arguments.length>1){if(o=arguments[1],!E(o))throw new TypeError(s("invalid argument. Index argument must be a nonnegative integer. Value: `%s`.",o))}else o=0;if(i={format:"layout"},w=f.byteLength,V(n)&&!ae(m,"length")){if(_=n.length,o+_>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=n,r.get&&r.set?b=ue("default"):b=z("default"),S=this._byteOffset+o*t,r.buffer===g&&r.byteOffset<S&&r.byteOffset+r.byteLength>S){for(T=[],h=0;h<_;h++)T.push(b(n,h));r=T,b=z("default")}for(h=0;h<_;o++,h++)this.set(b(r,h),o);return}if(o>=this._length)throw new RangeError(s("invalid argument. Index argument is out-of-bounds. Value: `%u`.",o));if(!G(n))throw new TypeError(s("invalid argument. Must provide either a valid object or a struct instance. Value: `%s`.",n));if(n.toString(i)===y){r=f.viewOf(n),l=new H(r.buffer,r.byteOffset,w),c=new H(g,this._byteOffset+o*t,w),oe(w,l,1,0,c,1,0);return}for(I=new f(g,this._byteOffset+o*t,w),h=0;h<m.length;h++)q=m[h],ie(n,q)&&(I[q]=n[q])}),v(u.prototype,"struct",f),u;function p(e){return typeof e=="object"&&e!==null&&(e.constructor.name===R||te(e,u.prototype))&&e.BYTES_PER_ELEMENT===t}}K.exports=ye});var ve=Q();module.exports=ve;
/**
* @license Apache-2.0
*
* Copyright (c) 2025 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
